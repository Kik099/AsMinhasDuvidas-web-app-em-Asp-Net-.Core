@page "{id}"
@model AsMinhasDuvidas.Pages.Duvidas.VizualizarModel
@using System.Linq
@inject AsMinhasDuvidas.Data.ApplicationDbContext DB
@inject RoleManager<IdentityRole> roleManager

    @using Microsoft.AspNetCore.Http
    @addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

    @{ ViewData["Title"] = "pagina2";
        Layout = "~/Pages/Shared/_Layout2.cshtml"; }
    <link rel="stylesheet" href="~/css/nicepage.css" />
    <link id="u-theme-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i">
    <link rel="stylesheet" href="~/css/Vizualizar.css" media="screen">
    <section class="u-align-center u-clearfix u-grey-5 u-section-1" id="carousel_e40d">
        <div class="u-expanded-height u-palette-5-base u-shape u-shape-rectangle u-shape-1"></div>
        <div class="u-clearfix u-gutter-30 u-layout-wrap u-layout-wrap-1">
            <div class="u-layout">
                <div class="u-layout-row">
                    <div class="u-container-style u-expand-resize u-layout-cell u-left-cell u-size-23 u-layout-cell-1">
                        <div class="u-container-layout u-container-layout-1">
                            <img class="u-image u-image-1" src="~/css/imagens/Vizualizar.jpeg" data-image-width="150" data-image-height="100">
                            <div class="u-align-left u-border-13 u-border-grey-30-500 u-border-palette-2-base u-shape u-shape-2"></div>
                        </div>
                    </div>
                   
                    @foreach (var item in Model.Duvidas)
                    {
                        var user = DB.Users.Where(s => s.UserName == User.Identity.Name).ToList();


                <div class="u-align-left u-container-style u-layout-cell u-right-cell u-size-37 u-layout-cell-2">
                    <div class="u-container-layout u-container-layout-2">
                        <a class="u-btn u-button-style u-none u-btn-info">
                            <span class="u-icon u-icon-1">
                                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" xml:space="preserve" class="u-svg-content" viewBox="0 0 286.054 286.054" x="0px" y="0px" style="width: 1em; height: 1em;"><g><path style="fill:currentColor;" d="M143.027,0C64.04,0,0,64.04,0,143.027c0,78.996,64.04,143.027,143.027,143.027   c78.996,0,143.027-64.022,143.027-143.027C286.054,64.04,222.022,0,143.027,0z M143.027,259.236   c-64.183,0-116.209-52.026-116.209-116.209S78.844,26.818,143.027,26.818s116.209,52.026,116.209,116.209   S207.21,259.236,143.027,259.236z M143.036,62.726c-10.244,0-17.995,5.346-17.995,13.981v79.201c0,8.644,7.75,13.972,17.995,13.972   c9.994,0,17.995-5.551,17.995-13.972V76.707C161.03,68.277,153.03,62.726,143.036,62.726z M143.036,187.723   c-9.842,0-17.852,8.01-17.852,17.86c0,9.833,8.01,17.843,17.852,17.843s17.843-8.01,17.843-17.843   C160.878,195.732,152.878,187.723,143.036,187.723z"></path></g></svg><img>
                            </span>
                        </a>
                        @{ if (DB.MatriculaProfessor.Where(s => s.CadeiraID == item.CadeiraID && s.UserID == user.First().Id).Count() > 0)
                                            {
                            <h6 class="u-align-left u-text u-text-info">Para responder à questão pressione o botão apresentado (lápis)!!</h6> }
                                            else if (item.UserID != DB.Users.Where(s => s.UserName == User.Identity.Name).ToList().First().Id && DB.ApoiaDuvida.Where(s => s.UserID == user.First().Id).Where(s => s.DuvidaID == item.ID).Count() == 0 && DB.UserRoles.Where(s => s.RoleId == (DB.Roles.Where(s => s.Name == "aluno").First().Id) && s.UserId == user.First().Id).Count() > 0)
                                            {
                            <h6 class="u-align-left u-text u-text-info">Para seguir a questão pressione o botão apresentado (like não preenchido)!! </h6> }
                        else if (item.UserID != DB.Users.Where(s => s.UserName == User.Identity.Name).ToList().First().Id && DB.ApoiaDuvida.Where(s => s.UserID == user.First().Id).Where(s => s.DuvidaID == item.ID).Count() != 0)
                        {
                    <h6 class="u-align-left u-text u-text-info">Para parar de seguir a questão pressione o botão apresentado (like preenchido)!! </h6> }
                else if (item.UserID == DB.Users.Where(s => s.UserName == User.Identity.Name).ToList().First().Id)
                {
                    <h6 class="u-align-left u-text u-text-info">Caso queira editar a questão pressione o botão lápis!!</h6> } }
                        <h3 class="u-text u-text-1">Cadeira</h3>
                        <h6 class="u-align-left u-text u-text-2">@Html.DisplayFor(modelItem => item.cadeira.Name)</h6>
                        @{ if (item.UserID == DB.Users.Where(s => s.UserName == User.Identity.Name).ToList().First().Id)
                            {
                    <form method="post" class="form-post">
                        <button type="submit" asp-page-handler="delete" asp-route-id="@item.ID" class="u-btn u-button-style u-grey-5 u-hover-grey-5 u-btn-1">
                            <span class="u-icon u-text-palette-2-base u-icon-1"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" xml:space="preserve" class="u-svg-content" viewBox="-57 0 512 512" style="width: 1em; height: 1em;"><path d="m156.371094 30.90625h85.570312v14.398438h30.902344v-16.414063c.003906-15.929687-12.949219-28.890625-28.871094-28.890625h-89.632812c-15.921875 0-28.875 12.960938-28.875 28.890625v16.414063h30.90625zm0 0"></path><path d="m344.210938 167.75h-290.109376c-7.949218 0-14.207031 6.78125-13.566406 14.707031l24.253906 299.90625c1.351563 16.742188 15.316407 29.636719 32.09375 29.636719h204.542969c16.777344 0 30.742188-12.894531 32.09375-29.640625l24.253907-299.902344c.644531-7.925781-5.613282-14.707031-13.5625-14.707031zm-219.863282 312.261719c-.324218.019531-.648437.03125-.96875.03125-8.101562 0-14.902344-6.308594-15.40625-14.503907l-15.199218-246.207031c-.523438-8.519531 5.957031-15.851562 14.472656-16.375 8.488281-.515625 15.851562 5.949219 16.375 14.472657l15.195312 246.207031c.527344 8.519531-5.953125 15.847656-14.46875 16.375zm90.433594-15.421875c0 8.53125-6.917969 15.449218-15.453125 15.449218s-15.453125-6.917968-15.453125-15.449218v-246.210938c0-8.535156 6.917969-15.453125 15.453125-15.453125 8.53125 0 15.453125 6.917969 15.453125 15.453125zm90.757812-245.300782-14.511718 246.207032c-.480469 8.210937-7.292969 14.542968-15.410156 14.542968-.304688 0-.613282-.007812-.921876-.023437-8.519531-.503906-15.019531-7.816406-14.515624-16.335937l14.507812-246.210938c.5-8.519531 7.789062-15.019531 16.332031-14.515625 8.519531.5 15.019531 7.816406 14.519531 16.335937zm0 0"></path><path d="m397.648438 120.0625-10.148438-30.421875c-2.675781-8.019531-10.183594-13.429687-18.640625-13.429687h-339.410156c-8.453125 0-15.964844 5.410156-18.636719 13.429687l-10.148438 30.421875c-1.957031 5.867188.589844 11.851562 5.34375 14.835938 1.9375 1.214843 4.230469 1.945312 6.75 1.945312h372.796876c2.519531 0 4.816406-.730469 6.75-1.949219 4.753906-2.984375 7.300781-8.96875 5.34375-14.832031zm0 0"></path></svg><img></span>
                        </button>
                    </form> } }

                        <h3 class="u-align-left u-text u-text-3">Topico</h3>
                        <h6 class="u-align-left u-text u-text-4">@Html.DisplayFor(modelItem => item.Topico)</h6>
                        <h3 class="u-text u-text-7">Pergunta</h3>
                        <h6 class="u-align-left u-text u-text-8">@Html.DisplayFor(modelItem => item.Pergunta)</h6>

                        <h3 class="u-text u-text-5">Resposta</h3>
                        @{ if (item.VizualizarResposta == null)
                            {

                    <h6 class="u-align-left u-text u-text-6">Resposta nao disponivel</h6> }
                
                else
                {
                    if (DB.ApoiaDuvida.Where(s => s.DuvidaID == item.ID && s.user.Email == User.Identity.Name).Count() > 0 || DB.Duvida.Where(s => s.ID == item.ID && s.user.Email == User.Identity.Name).Count() > 0 || DB.MatriculaProfessor.Where(S => S.CadeiraID == item.CadeiraID && S.user.Email == User.Identity.Name).Count() > 0)
                    {
                    <h6 class="u-align-left u-text u-text-6">@Html.DisplayFor(modelItem => item.Resposta)</h6> }
                else
                { <h6 class="u-align-left u-text u-text-6">Nao tem permissao</h6>}
            }
         }
                        <h4 class="u-align-left u-text u-text-9">
                            Criador<br>
                        </h4>
                        @{ var nome = await DB.Users.FindAsync(item.user.Id); }
                        <h6 class="u-align-left u-text u-text-10">@nome.Name</h6>
                        <h4 class="u-align-left u-text u-text-11">
                            Data<br>
                        </h4>
                        <h6 class="u-align-left u-text u-text-12">@Html.DisplayFor(modelItem => item.Data)</h6>
                        @{ if (item.UserID == user.First().Id)
                            {
                    <a asp-page="./Edit" asp-route-id="@item.ID" class="u-btn u-button-style u-grey-5 u-hover-grey-5 u-btn-4">
                        <span class="u-icon u-icon-2">
                            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" xml:space="preserve" class="u-svg-content" viewBox="0 0 509.999 509.999" style="width: 1em; height: 1em;"><linearGradient id="lg1"><stop offset="0" stop-color="#fe646f"></stop><stop offset=".5725" stop-color="#fb2b3a"></stop><stop offset="1" stop-color="#c41926"></stop></linearGradient><linearGradient id="SVGID_1_" gradientUnits="userSpaceOnUse" x1="339" x2="530.628" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#lg1" y1="87.084" y2="87.084"></linearGradient><linearGradient id="SVGID_2_" gradientUnits="userSpaceOnUse" x1="285" x2="505.082" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#lg1" y1="87.091" y2="87.091"></linearGradient><linearGradient id="SVGID_3_" gradientUnits="userSpaceOnUse" x1="5.941" x2="153.811" y1="287.171" y2="287.171"><stop offset="0" stop-color="#ffdcbd"></stop><stop offset=".0028" stop-color="#ffdcbd"></stop><stop offset="1" stop-color="#ffa9b1"></stop></linearGradient><linearGradient id="SVGID_4_" gradientUnits="userSpaceOnUse" x1="40.5" x2="180.154" y1="459.408" y2="459.408"><stop offset="0" stop-color="#ffc2b5"></stop><stop offset="1" stop-color="#ff89a8"></stop></linearGradient><linearGradient id="lg2"><stop offset="0" stop-color="#ffe177"></stop><stop offset=".5725" stop-color="#feb137"></stop><stop offset="1" stop-color="#fe646f"></stop></linearGradient><linearGradient id="SVGID_5_" gradientUnits="userSpaceOnUse" x1="18.181" x2="451.211" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#lg2" y1="268.114" y2="268.114"></linearGradient><linearGradient id="SVGID_6_" gradientUnits="userSpaceOnUse" x1="8.61" x2="421.913" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#lg2" y1="268.117" y2="268.117"></linearGradient><linearGradient id="lg3"><stop offset="0" stop-color="#537983"></stop><stop offset="1" stop-color="#384949"></stop></linearGradient><linearGradient id="SVGID_7_" gradientUnits="userSpaceOnUse" x1="0" x2="353.26" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#lg3" y1="501.691" y2="501.691"></linearGradient><linearGradient id="SVGID_8_" gradientUnits="userSpaceOnUse" x1="-17.729" x2="386.053" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#lg2" y1="271.379" y2="271.379"></linearGradient><linearGradient id="SVGID_9_" gradientUnits="userSpaceOnUse" x1="-15" x2="52.766" y1="473.114" y2="473.114"><stop offset="0" stop-color="#537983"></stop><stop offset="1" stop-color="#3e5959"></stop></linearGradient><linearGradient id="SVGID_10_" gradientUnits="userSpaceOnUse" x1="14.532" x2="329.997" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#lg2" y1="148.737" y2="148.737"></linearGradient><linearGradient id="SVGID_11_" gradientUnits="userSpaceOnUse" x1="-46.5" x2="29.699" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#lg3" y1="487.789" y2="487.789"></linearGradient><linearGradient id="lg4"><stop offset="0" stop-color="#f9f3f1"></stop><stop offset=".5725" stop-color="#efe2dd"></stop><stop offset="1" stop-color="#cdbfba"></stop></linearGradient><linearGradient id="SVGID_12_" gradientUnits="userSpaceOnUse" x1="302" x2="473.143" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#lg4" y1="121.481" y2="121.481"></linearGradient><linearGradient id="SVGID_13_" gradientUnits="userSpaceOnUse" x1="281.231" x2="436.511" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#lg4" y1="121.481" y2="121.481"></linearGradient><g><path d="m451.478 173.338 39.973-39.973c24.731-24.731 24.731-64.829 0-89.56l-24.426-24.426c-24.731-24.731-64.828-24.731-89.56 0l-39.973 39.973z" fill="url(#SVGID_1_)"></path><path d="m491.451 43.805-24.426-24.426c-17.527-17.527-42.767-22.617-64.79-15.301 9.053 3.007 17.565 8.097 24.77 15.301l24.426 24.426c24.731 24.731 24.731 64.829 0 89.56l-19.963 19.963 20.01 20.01 39.973-39.973c24.731-24.731 24.731-64.829 0-89.56z" fill="url(#SVGID_2_)"></path><g><path d="m317.171 79.67-261.597 261.597c-6.463 6.463-11.039 14.567-13.234 23.439l-25.532 103.174c-3.904 15.775 10.365 30.044 26.141 26.141l103.173-25.531c8.872-2.195 16.976-6.771 23.439-13.234l261.597-261.597z" fill="url(#SVGID_3_)"></path><path d="m180.66 444.159-11.1 11.1c-6.46 6.46-14.57 11.04-23.44 13.23l-103.17 25.53c-7.53 1.86-14.71-.42-19.74-5.02l82.89-20.51c8.87-2.19 16.98-6.77 23.44-13.23l31.11-31.11z" fill="url(#SVGID_4_)"></path><path d="m169.56 455.256c-.078.078-.155.155-.234.232-1.583 1.563-4.197 1.383-5.557-.377-1.404-1.817-2.94-3.566-4.608-5.234-7.53-7.53-16.725-12.373-26.399-14.537-4.547-1.017-8.114-4.584-9.131-9.131-2.164-9.674-7.007-18.87-14.537-26.399-7.53-7.53-16.725-12.373-26.399-14.537-4.547-1.017-8.114-4.584-9.131-9.131-2.164-9.674-7.007-18.87-14.537-26.399-1.061-1.061-2.152-2.067-3.271-3.021-1.642-1.398-1.737-3.898-.212-5.423l.03-.03 261.597-261.595 113.985 113.986z" fill="url(#SVGID_5_)"></path><path d="m317.171 79.67-26.055 26.059 80.514 80.514c7.435 7.435 7.435 19.489 0 26.923l-226.55 226.551c5.081 2.537 9.845 5.923 14.082 10.16 1.675 1.675 3.218 3.432 4.627 5.259 1.357 1.759 3.957 1.913 5.538.352.078-.077.156-.154.233-.232l261.599-261.598z" fill="url(#SVGID_6_)"></path><path d="m345.782 509.168h-338.305c-4.13 0-7.477-3.348-7.477-7.477 0-4.13 3.348-7.477 7.477-7.477h338.305c4.13 0 7.477 3.348 7.477 7.477.001 4.13-3.347 7.477-7.477 7.477z" fill="url(#SVGID_7_)"></path><path d="m397.875 160.378-49.347-49.347-271.349 271.348c1.528 1.405 3.415 2.425 5.517 2.895 9.674 2.164 18.87 7.007 26.399 14.537s12.373 16.725 14.537 26.399c.47 2.102 1.49 3.989 2.895 5.517z" fill="url(#SVGID_8_)"></path><path d="m45.517 463.389c-6.909-6.909-15.658-10.846-24.669-11.832l-4.039 16.323c-3.904 15.775 10.365 30.044 26.141 26.141l14.595-3.612c-.514-9.83-4.52-19.512-12.028-27.02z" fill="url(#SVGID_9_)"></path><path d="m322.473 137.085 49.157 49.157c.064.064.117.135.181.2l26.064-26.064-23.711-23.711-25.636-25.636z" fill="url(#SVGID_10_)"></path><path d="m42.949 494.02 14.595-3.612c-.167-3.207-.713-6.396-1.625-9.501l-32.707 8.094c.001.001.001.001.001.001 5.032 4.601 12.21 6.881 19.736 5.018z" fill="url(#SVGID_11_)"></path></g><path d="m421.599 196.196-108.889-108.89c-5.568-5.568-5.568-14.596 0-20.164l20.377-20.377c5.568-5.568 14.596-5.568 20.164 0l108.89 108.89c5.568 5.568 5.568 14.596 0 20.164l-20.377 20.377c-5.569 5.568-14.597 5.568-20.165 0z" fill="url(#SVGID_12_)"></path><path d="m462.14 155.655-108.89-108.889c-5.568-5.568-14.596-5.568-20.164 0l-9.928 9.928 98.961 98.962c5.568 5.568 5.568 14.596 0 20.164l-10.449 10.449 9.928 9.928c5.568 5.568 14.596 5.568 20.164 0l20.377-20.377c5.569-5.569 5.569-14.597.001-20.165z" fill="url(#SVGID_13_)"></path></g></svg><img>
                        </span>
                    </a> }
                else if (DB.MatriculaProfessor.Where(s => s.CadeiraID == item.CadeiraID && s.UserID == user.First().Id).Count() > 0)
                {
                    <a asp-page="./Responder" asp-route-id="@item.ID" class="u-btn u-button-style u-grey-5 u-hover-grey-5 u-btn-4">
                        <span class="u-icon u-icon-2">
                            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" xml:space="preserve" class="u-svg-content" viewBox="0 0 509.999 509.999" style="width: 1em; height: 1em;"><linearGradient id="lg1"><stop offset="0" stop-color="#fe646f"></stop><stop offset=".5725" stop-color="#fb2b3a"></stop><stop offset="1" stop-color="#c41926"></stop></linearGradient><linearGradient id="SVGID_1_" gradientUnits="userSpaceOnUse" x1="339" x2="530.628" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#lg1" y1="87.084" y2="87.084"></linearGradient><linearGradient id="SVGID_2_" gradientUnits="userSpaceOnUse" x1="285" x2="505.082" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#lg1" y1="87.091" y2="87.091"></linearGradient><linearGradient id="SVGID_3_" gradientUnits="userSpaceOnUse" x1="5.941" x2="153.811" y1="287.171" y2="287.171"><stop offset="0" stop-color="#ffdcbd"></stop><stop offset=".0028" stop-color="#ffdcbd"></stop><stop offset="1" stop-color="#ffa9b1"></stop></linearGradient><linearGradient id="SVGID_4_" gradientUnits="userSpaceOnUse" x1="40.5" x2="180.154" y1="459.408" y2="459.408"><stop offset="0" stop-color="#ffc2b5"></stop><stop offset="1" stop-color="#ff89a8"></stop></linearGradient><linearGradient id="lg2"><stop offset="0" stop-color="#ffe177"></stop><stop offset=".5725" stop-color="#feb137"></stop><stop offset="1" stop-color="#fe646f"></stop></linearGradient><linearGradient id="SVGID_5_" gradientUnits="userSpaceOnUse" x1="18.181" x2="451.211" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#lg2" y1="268.114" y2="268.114"></linearGradient><linearGradient id="SVGID_6_" gradientUnits="userSpaceOnUse" x1="8.61" x2="421.913" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#lg2" y1="268.117" y2="268.117"></linearGradient><linearGradient id="lg3"><stop offset="0" stop-color="#537983"></stop><stop offset="1" stop-color="#384949"></stop></linearGradient><linearGradient id="SVGID_7_" gradientUnits="userSpaceOnUse" x1="0" x2="353.26" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#lg3" y1="501.691" y2="501.691"></linearGradient><linearGradient id="SVGID_8_" gradientUnits="userSpaceOnUse" x1="-17.729" x2="386.053" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#lg2" y1="271.379" y2="271.379"></linearGradient><linearGradient id="SVGID_9_" gradientUnits="userSpaceOnUse" x1="-15" x2="52.766" y1="473.114" y2="473.114"><stop offset="0" stop-color="#537983"></stop><stop offset="1" stop-color="#3e5959"></stop></linearGradient><linearGradient id="SVGID_10_" gradientUnits="userSpaceOnUse" x1="14.532" x2="329.997" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#lg2" y1="148.737" y2="148.737"></linearGradient><linearGradient id="SVGID_11_" gradientUnits="userSpaceOnUse" x1="-46.5" x2="29.699" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#lg3" y1="487.789" y2="487.789"></linearGradient><linearGradient id="lg4"><stop offset="0" stop-color="#f9f3f1"></stop><stop offset=".5725" stop-color="#efe2dd"></stop><stop offset="1" stop-color="#cdbfba"></stop></linearGradient><linearGradient id="SVGID_12_" gradientUnits="userSpaceOnUse" x1="302" x2="473.143" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#lg4" y1="121.481" y2="121.481"></linearGradient><linearGradient id="SVGID_13_" gradientUnits="userSpaceOnUse" x1="281.231" x2="436.511" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#lg4" y1="121.481" y2="121.481"></linearGradient><g><path d="m451.478 173.338 39.973-39.973c24.731-24.731 24.731-64.829 0-89.56l-24.426-24.426c-24.731-24.731-64.828-24.731-89.56 0l-39.973 39.973z" fill="url(#SVGID_1_)"></path><path d="m491.451 43.805-24.426-24.426c-17.527-17.527-42.767-22.617-64.79-15.301 9.053 3.007 17.565 8.097 24.77 15.301l24.426 24.426c24.731 24.731 24.731 64.829 0 89.56l-19.963 19.963 20.01 20.01 39.973-39.973c24.731-24.731 24.731-64.829 0-89.56z" fill="url(#SVGID_2_)"></path><g><path d="m317.171 79.67-261.597 261.597c-6.463 6.463-11.039 14.567-13.234 23.439l-25.532 103.174c-3.904 15.775 10.365 30.044 26.141 26.141l103.173-25.531c8.872-2.195 16.976-6.771 23.439-13.234l261.597-261.597z" fill="url(#SVGID_3_)"></path><path d="m180.66 444.159-11.1 11.1c-6.46 6.46-14.57 11.04-23.44 13.23l-103.17 25.53c-7.53 1.86-14.71-.42-19.74-5.02l82.89-20.51c8.87-2.19 16.98-6.77 23.44-13.23l31.11-31.11z" fill="url(#SVGID_4_)"></path><path d="m169.56 455.256c-.078.078-.155.155-.234.232-1.583 1.563-4.197 1.383-5.557-.377-1.404-1.817-2.94-3.566-4.608-5.234-7.53-7.53-16.725-12.373-26.399-14.537-4.547-1.017-8.114-4.584-9.131-9.131-2.164-9.674-7.007-18.87-14.537-26.399-7.53-7.53-16.725-12.373-26.399-14.537-4.547-1.017-8.114-4.584-9.131-9.131-2.164-9.674-7.007-18.87-14.537-26.399-1.061-1.061-2.152-2.067-3.271-3.021-1.642-1.398-1.737-3.898-.212-5.423l.03-.03 261.597-261.595 113.985 113.986z" fill="url(#SVGID_5_)"></path><path d="m317.171 79.67-26.055 26.059 80.514 80.514c7.435 7.435 7.435 19.489 0 26.923l-226.55 226.551c5.081 2.537 9.845 5.923 14.082 10.16 1.675 1.675 3.218 3.432 4.627 5.259 1.357 1.759 3.957 1.913 5.538.352.078-.077.156-.154.233-.232l261.599-261.598z" fill="url(#SVGID_6_)"></path><path d="m345.782 509.168h-338.305c-4.13 0-7.477-3.348-7.477-7.477 0-4.13 3.348-7.477 7.477-7.477h338.305c4.13 0 7.477 3.348 7.477 7.477.001 4.13-3.347 7.477-7.477 7.477z" fill="url(#SVGID_7_)"></path><path d="m397.875 160.378-49.347-49.347-271.349 271.348c1.528 1.405 3.415 2.425 5.517 2.895 9.674 2.164 18.87 7.007 26.399 14.537s12.373 16.725 14.537 26.399c.47 2.102 1.49 3.989 2.895 5.517z" fill="url(#SVGID_8_)"></path><path d="m45.517 463.389c-6.909-6.909-15.658-10.846-24.669-11.832l-4.039 16.323c-3.904 15.775 10.365 30.044 26.141 26.141l14.595-3.612c-.514-9.83-4.52-19.512-12.028-27.02z" fill="url(#SVGID_9_)"></path><path d="m322.473 137.085 49.157 49.157c.064.064.117.135.181.2l26.064-26.064-23.711-23.711-25.636-25.636z" fill="url(#SVGID_10_)"></path><path d="m42.949 494.02 14.595-3.612c-.167-3.207-.713-6.396-1.625-9.501l-32.707 8.094c.001.001.001.001.001.001 5.032 4.601 12.21 6.881 19.736 5.018z" fill="url(#SVGID_11_)"></path></g><path d="m421.599 196.196-108.889-108.89c-5.568-5.568-5.568-14.596 0-20.164l20.377-20.377c5.568-5.568 14.596-5.568 20.164 0l108.89 108.89c5.568 5.568 5.568 14.596 0 20.164l-20.377 20.377c-5.569 5.568-14.597 5.568-20.165 0z" fill="url(#SVGID_12_)"></path><path d="m462.14 155.655-108.89-108.889c-5.568-5.568-14.596-5.568-20.164 0l-9.928 9.928 98.961 98.962c5.568 5.568 5.568 14.596 0 20.164l-10.449 10.449 9.928 9.928c5.568 5.568 14.596 5.568 20.164 0l20.377-20.377c5.569-5.569 5.569-14.597.001-20.165z" fill="url(#SVGID_13_)"></path></g></svg><img>
                        </span>
                    </a> }
                else if (DB.ApoiaDuvida.Where(s => s.UserID == user.First().Id).Where(s => s.DuvidaID == item.ID).Count() == 0 && DB.UserRoles.Where(s => s.RoleId == (DB.Roles.Where(s => s.Name == "aluno").First().Id) && s.UserId == user.First().Id).Count() > 0)
                {
                    <form method="post">
                        <button type="submit" asp-page-handler="like" asp-route-id="@item.ID" class="u-btn u-button-style u-grey-5 u-hover-grey-5 u-btn-4">
                            <span class="u-icon u-text-palette-2-base u-icon-4"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" xml:space="preserve" class="u-svg-content" viewBox="-25 0 445 445.23639" style="width: 1em; height: 1em;"><path d="m363.851562 286.488281c-.019531-14.59375-11.84375-26.417969-26.433593-26.433593h-78.914063c-5.542968.007812-10.203125-4.167969-10.796875-9.683594-1.304687-12.058594.234375-24.253906 4.484375-35.609375 4.535156-12.054688 6.855469-24.824219 6.847656-37.703125v-7.480469c-.027343-23.632813-19.179687-42.785156-42.8125-42.8125-2.960937 0-5.480468 2.160156-5.929687 5.089844l-4.144531 27.03125c-4.304688 27.917969-15.136719 54.421875-31.613282 77.367187-9.070312 12.453125-23.542968 19.828125-38.949218 19.851563h-13.5625v-22.675781c0-3.3125-2.683594-6-6-6h-78.175782c-3.316406 0-6 2.6875-6 6v200.042968c0 3.3125 2.683594 6 6 6h78.175782c3.316406 0 6-2.6875 6-6v-19.375h12.042968c21.558594-.003906 42.6875 6.015625 61.003907 17.386719 20.472656 12.699219 43.53125 13.753906 67.332031 13.753906h63.636719c10.839843.007813 20.691406-6.300781 25.214843-16.152343 4.527344-9.847657 2.898438-21.429688-4.167968-29.648438 9.035156-3.914062 15.328125-12.3125 16.546875-22.082031s-2.820313-19.457031-10.617188-25.46875c6.769531-5.347657 10.753907-13.46875 10.832031-22.09375.074219-8.625-3.757812-16.820313-10.429687-22.285157 6.570313-4.992187 10.429687-12.769531 10.429687-21.019531zm-253.824218 140.984375h-66.175782v-188.042968h66.175782zm225.980468-69.414062c8.703126.070312 15.71875 7.140625 15.71875 15.84375 0 8.699218-7.015624 15.769531-15.71875 15.839844h-44.347656c-3.316406 0-6 2.6875-6 6s2.683594 6 6 6h34.382813c8.699219 0 15.75 7.050781 15.75 15.746093 0 8.699219-7.050781 15.75-15.75 15.75h-63.636719c-22 0-43.214844-.914062-61-11.953125-20.21875-12.546875-43.539062-19.191406-67.332031-19.1875h-12.046875v-133.996094h13.5625c19.257812-.027343 37.34375-9.25 48.675781-24.820312 17.589844-24.488281 29.152344-52.78125 33.753906-82.578125l3.296875-21.519531c14.839844 2.503906 25.707032 15.34375 25.726563 30.390625v7.484375c.007812 11.4375-2.054688 22.78125-6.082031 33.484375-4.910157 13.117187-6.683594 27.203125-5.179688 41.132812 1.253906 11.601563 11.054688 20.394531 22.726562 20.378907h78.910157c5.1875-.042969 9.996093 2.699218 12.601562 7.179687 2.605469 4.484375 2.605469 10.019531 0 14.503906s-7.414062 7.222657-12.601562 7.179688h-18.808594c-.355469.003906-.714844.039062-1.0625.101562h-12.296875c-3.3125 0-6 2.6875-6 6s2.6875 6 6 6h30.082031c5.933594-.046875 11.433594 3.09375 14.414063 8.222657 2.980468 5.128906 2.980468 11.464843 0 16.59375-2.980469 5.132812-8.480469 8.269531-14.414063 8.222656h-30.082031c-3.3125 0-6 2.6875-6 6 0 3.316406 2.6875 6 6 6h30.761719zm0 0"></path><path d="m139.371094 69.890625c.707031 2.171875 2.582031 3.757813 4.84375 4.085937l33.34375 4.84375 14.910156 30.214844c1.011719 2.050782 3.097656 3.347656 5.382812 3.347656 2.28125 0 4.371094-1.296874 5.378907-3.347656l14.910156-30.214844 33.34375-4.847656c2.261719-.328125 4.140625-1.910156 4.847656-4.082031.703125-2.171875.117188-4.558594-1.519531-6.152344l-24.128906-23.519531 5.695312-33.199219c.386719-2.253906-.539062-4.527343-2.386718-5.871093-1.847657-1.339844-4.296876-1.519532-6.320313-.453126l-29.820313 15.671876-29.824218-15.679688c-2.023438-1.0625-4.472656-.882812-6.320313.457031-1.847656 1.34375-2.773437 3.617188-2.386719 5.871094l5.695313 33.203125-24.128906 23.523438c-1.632813 1.59375-2.222657 3.976562-1.515625 6.148437zm36.277344-23.273437c1.414062-1.378907 2.0625-3.363282 1.726562-5.308594l-4.171875-24.339844 21.855469 11.488281c1.746094.921875 3.835937.921875 5.582031 0l21.855469-11.488281-4.171875 24.335938c-.335938 1.945312.308593 3.933593 1.726562 5.3125l17.679688 17.230468-24.433594 3.550782c-1.957031.285156-3.644531 1.511718-4.519531 3.28125l-10.925782 22.140624-10.929687-22.144531c-.871094-1.769531-2.5625-2.996093-4.515625-3.28125l-24.4375-3.546875zm0 0"></path><path d="m.414062 123.285156c.703126 2.171875 2.582032 3.753906 4.839844 4.082032l33.34375 4.851562 14.914063 30.210938c1.007812 2.046874 3.09375 3.34375 5.378906 3.34375s4.371094-1.296876 5.382813-3.34375l14.910156-30.210938 33.34375-4.847656c2.261718-.328125 4.140625-1.910156 4.84375-4.085938.707031-2.171875.117187-4.558594-1.519532-6.152344l-24.125-23.515624 5.695313-33.207032c.382813-2.25-.539063-4.527344-2.386719-5.867187-1.851562-1.34375-4.300781-1.519531-6.320312-.457031l-29.824219 15.679687-29.824219-15.683594c-2.019531-1.0625-4.46875-.886719-6.316406.457031s-2.773438 3.617188-2.390625 5.867188l5.699219 33.210938-24.128906 23.515624c-1.636719 1.597657-2.222657 3.980469-1.515626 6.152344zm36.277344-23.277344c1.414063-1.378906 2.058594-3.367187 1.726563-5.3125l-4.171875-24.335937 21.851562 11.488281c1.75.921875 3.839844.921875 5.585938 0l21.855468-11.488281-4.175781 24.335937c-.332031 1.945313.3125 3.933594 1.726563 5.3125l17.679687 17.234376-24.433593 3.550781c-1.953126.285156-3.644532 1.511719-4.519532 3.28125l-10.925781 22.144531-10.925781-22.140625c-.875-1.773437-2.5625-3-4.519532-3.28125l-24.433593-3.550781zm0 0"></path><path d="m395.289062 123.285156c.707032-2.171875.117188-4.554687-1.519531-6.152344l-24.125-23.515624 5.699219-33.207032c.386719-2.25-.539062-4.527344-2.386719-5.867187-1.847656-1.34375-4.296875-1.519531-6.320312-.457031l-29.824219 15.679687-29.828125-15.683594c-2.019531-1.0625-4.46875-.886719-6.316406.457031-1.847657 1.34375-2.773438 3.617188-2.386719 5.867188l5.695312 33.210938-24.125 23.515624c-1.636718 1.59375-2.226562 3.980469-1.519531 6.152344s2.582031 3.753906 4.84375 4.082032l33.34375 4.847656 14.910157 30.214844c1.011718 2.046874 3.097656 3.34375 5.382812 3.34375 2.28125 0 4.371094-1.296876 5.378906-3.34375l14.910156-30.210938 33.347657-4.851562c2.257812-.328126 4.132812-1.910157 4.839843-4.082032zm-43.039062-2.492187c-1.953125.285156-3.644531 1.511719-4.519531 3.28125l-10.921875 22.144531-10.925782-22.140625c-.875-1.769531-2.5625-3-4.515624-3.28125l-24.4375-3.550781 17.679687-17.234375c1.414063-1.378907 2.058594-3.367188 1.726563-5.3125l-4.171876-24.335938 21.851563 11.488281c1.75.921876 3.839844.921876 5.585937 0l21.855469-11.488281-4.175781 24.335938c-.332031 1.945312.3125 3.933593 1.726562 5.3125l17.679688 17.234375zm0 0"></path></svg><img></span>
                        </button>


                    </form> }
                else
                {
                    if (DB.UserRoles.Where(s => s.RoleId == (DB.Roles.Where(s => s.Name == "aluno").First().Id) && s.UserId == user.First().Id).Count() > 0)
                    {
                    <form method="post">
                        <button type="submit" asp-page-handler="dislike" asp-route-id="@item.ID" class="u-btn u-button-style u-grey-5 u-hover-grey-5 u-btn-4">
                            <span class="u-icon u-text-palette-2-base u-icon-3"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" xml:space="preserve" class="u-svg-content" viewBox="-29 0 416 416.65" style="width: 1em; height: 1em;"><path d="m286.5625 283.648438h32.171875c8.007813 0 14.5-6.492188 14.5-14.5 0-8.007813-6.492187-14.5-14.5-14.5h-78.914063c-11.640624.117187-21.480468-8.59375-22.773437-20.160157-1.519531-13.851562.238281-27.867187 5.132813-40.914062 3.996093-10.710938 6.023437-22.054688 5.984374-33.484375v-7.484375c.027344-15.042969-10.800781-27.914063-25.628906-30.457031l-3.199218 21.460937c-4.601563 29.761719-16.164063 58.015625-33.753907 82.457031-11.359375 15.507813-29.453125 24.644532-48.675781 24.582032h-13.742188v134h12.21875c23.832032.148437 47.152344 6.941406 67.332032 19.621093 17.789062 11.035157 39.007812 12.378907 61 12.378907h63.640625c8.835937 0 16-7.160157 16-16 0-8.835938-7.164063-16-16-16h-34.382813c-3.3125 0-6-2.683594-6-6 0-3.3125 2.6875-6 6-6h44.351563c8.835937 0 16-7.160157 16-16 0-8.835938-7.164063-16-16-16h-30.761719c-3.3125 0-6-2.683594-6-6 0-3.3125 2.6875-6 6-6h30.082031c9.113281 0 16.5-7.386719 16.5-16.5 0-9.109376-7.386719-16.5-16.5-16.5h-30.082031c-3.3125 0-6-2.683594-6-6 0-3.3125 2.6875-6 6-6zm0 0"></path><path d="m25.164062 222.648438h66v188h-66zm0 0"></path><path d="m139.285156 46.878906 24.433594 3.550782c1.953125.285156 3.644531 1.511718 4.519531 3.285156l10.925781 22.136718 10.925782-22.140624c.875-1.773438 2.566406-3 4.519531-3.285157l24.433594-3.546875-17.679688-17.230468c-1.414062-1.378907-2.058593-3.363282-1.722656-5.308594l4.171875-24.33593775-21.855469 11.48437475c-1.75.921875-3.835937.921875-5.585937 0l-21.851563-11.488281 4.171875 24.335938c.335938 1.945312-.3125 3.933593-1.726562 5.3125zm0 0"></path><path d="m.324219 100.273438 24.4375 3.550781c1.953125.285156 3.640625 1.511719 4.515625 3.28125l10.925781 22.144531 10.929687-22.140625c.875-1.769531 2.5625-3 4.515626-3.28125l24.4375-3.550781-17.683594-17.234375c-1.414063-1.378907-2.058594-3.367188-1.722656-5.3125l4.171874-24.335938-21.855468 11.488281c-1.746094.921876-3.835938.921876-5.582032 0l-21.855468-11.492187 4.171875 24.335937c.335937 1.945313-.308594 3.933594-1.722657 5.3125zm0 0"></path><path d="m358.003906 100.273438-17.683594-17.234376c-1.414062-1.378906-2.058593-3.367187-1.722656-5.3125l4.171875-24.335937-21.855469 11.492187c-1.746093.917969-3.835937.917969-5.582031 0l-21.855469-11.492187 4.171876 24.335937c.335937 1.945313-.308594 3.933594-1.722657 5.3125l-17.683593 17.234376 24.4375 3.550781c1.953124.285156 3.640624 1.511719 4.515624 3.28125l10.925782 22.144531 10.929687-22.140625c.875-1.769531 2.5625-3 4.515625-3.28125zm0 0"></path></svg><img></span>
                        </button>
                    </form> }
            } }



                    </div>
                </div>}
                </div>
            </div>
        </div>
    </section>






    @section Scripts {
        @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
    }



